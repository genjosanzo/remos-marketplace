CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C1*/\u000a    create table Category (\u000a        id integer generated by default as identity (start with 1),\u000a        name varchar(255),\u000a        url varchar(255),\u000a        OPTLOCK integer,\u000a        market_id varchar(255),\u000a        primary key (id)\u000a    )
\u000a    create table Category_Node (\u000a        categories_id integer not null,\u000a        nodes_id integer not null,\u000a        primary key (categories_id, nodes_id)\u000a    )
\u000a    create table Clickthrough (\u000a        id integer generated by default as identity (start with 1),\u000a        time timestamp,\u000a        OPTLOCK integer,\u000a        node_id integer,\u000a        primary key (id)\u000a    )
\u000a    create table Download (\u000a        id integer generated by default as identity (start with 1),\u000a        time timestamp,\u000a        OPTLOCK integer,\u000a        node_id integer,\u000a        primary key (id)\u000a    )
\u000a    create table InstallableUnit (\u000a        id integer generated by default as identity (start with 1),\u000a        name varchar(255),\u000a        OPTLOCK integer,\u000a        node_id integer,\u000a        primary key (id)\u000a    )
\u000a    create table Market (\u000a        id varchar(255) not null,\u000a        name varchar(255),\u000a        url varchar(255),\u000a        OPTLOCK integer,\u000a        primary key (id)\u000a    )
\u000a    create table Node (\u000a        id integer generated by default as identity (start with 1),\u000a        body varchar(2147483647),\u000a        changed integer,\u000a        companyname varchar(255),\u000a        created integer,\u000a        eclipseversion varchar(255),\u000a        favorited integer,\u000a        foundationmember integer,\u000a        homepageurl varchar(255),\u000a        image varchar(255),\u000a        license varchar(255),\u000a        name varchar(255),\u000a        owner varchar(255),\u000a        resource varchar(255),\u000a        screenshot varchar(255),\u000a        shortdescription varchar(2147483647),\u000a        status varchar(255),\u000a        supporturl varchar(255),\u000a        type varchar(255),\u000a        updateurl varchar(255),\u000a        url varchar(255),\u000a        OPTLOCK integer,\u000a        version2 varchar(255),\u000a        primary key (id)\u000a    )
\u000a    create table Node_Platform (\u000a        nodes_id integer not null,\u000a        platforms_id integer not null,\u000a        primary key (nodes_id, platforms_id)\u000a    )
\u000a    create table Platform (\u000a        id integer generated by default as identity (start with 1),\u000a        name varchar(255),\u000a        OPTLOCK integer,\u000a        primary key (id)\u000a    )
\u000a    alter table Category \u000a        add constraint FK6DD211EE7A9B4C4 \u000a        foreign key (market_id) \u000a        references Market
\u000a    alter table Category_Node \u000a        add constraint FK43C0BCA3B2615A75 \u000a        foreign key (nodes_id) \u000a        references Node
\u000a    alter table Category_Node \u000a        add constraint FK43C0BCA380946526 \u000a        foreign key (categories_id) \u000a        references Category
\u000a    alter table Clickthrough \u000a        add constraint FK77F3505DED6AB184 \u000a        foreign key (node_id) \u000a        references Node
\u000a    alter table Download \u000a        add constraint FK58F52CA8ED6AB184 \u000a        foreign key (node_id) \u000a        references Node
\u000a    alter table InstallableUnit \u000a        add constraint FKAF32B879ED6AB184 \u000a        foreign key (node_id) \u000a        references Node
\u000a    alter table Node_Platform \u000a        add constraint FK53F2210B2615A75 \u000a        foreign key (nodes_id) \u000a        references Node
\u000a    alter table Node_Platform \u000a        add constraint FK53F2210FD6999D7 \u000a        foreign key (platforms_id) \u000a        references Platform
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
